<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roleta Premiada üçî</title>
<style>
:root { --bg-hex: #1a1a1a; }
body {
  margin: 0;
  background: var(--bg-hex);
  color: #fff;
  font-family: 'Poppins', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  overflow: hidden;
}
#logo { width: 120px; margin-bottom: 10px; }
#wheel-container { position: relative; width: 320px; height: 320px; }
.wheel {
  width: 100%; height: 100%;
  border-radius: 50%;
  border: 5px solid #ffb300;
  box-shadow: 0 0 25px #ffb300aa;
  transition: transform 5s cubic-bezier(0.33,1,0.68,1);
  position: relative; overflow: hidden;
}
.slice-text {
  position: absolute;
  top: 50%; left: 50%;
  transform-origin: 0 0;
  font-size: 32px;
  color: #fff;
  pointer-events: none;
  text-shadow: 0 0 8px rgba(0,0,0,0.9);
}
.pointer {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 12px solid transparent;
  border-right: 12px solid transparent;
  border-top: 20px solid #ffb300; 
  z-index: 10;
  filter: drop-shadow(0 0 5px #ffb300);
}
button {
  margin-top: 20px; padding: 12px 25px; font-size: 17px;
  background: linear-gradient(45deg,#ffb300,#ff5722);
  border: none; border-radius: 50px; color:#fff; cursor:pointer;
  transition: 0.3s; box-shadow:0 0 12px #ff9800aa;
}
button:hover { transform: scale(1.05); box-shadow: 0 0 20px #ffb300; }
#prize-message {
  margin-top: 15px;
  font-size: 26px;
  font-weight: bold;
  color: #ffb300;
  text-shadow: 0 0 10px #ff9800;
  display: none;
  text-align: center;
}
@media (max-width:500px){
  #wheel-container{width:270px;height:270px;}
  .slice-text{font-size:36px;} 
  button{font-size:15px;padding:10px 20px;}
  #prize-message{font-size:22px;}
}
</style>
</head>
<body>
<img id="logo" src="https://i.imgur.com/7UlckaL.png" alt="Logo da loja">
<div id="wheel-container">
  <div class="pointer"></div>
  <div class="wheel" id="wheel"></div>
</div>
<button id="spin">üçî Girar Roleta</button>
<div id="prize-message">Retire uma print e envie em nosso WhatsApp</div>

<script>
const wheel = document.getElementById("wheel");
const spinBtn = document.getElementById("spin");
const prizeMessage = document.getElementById("prize-message");

// üçî Tema de hamburgueria com quantidades conforme gabarito
const prizes = [
  { text: "üçü", color: "#ffb300", label: "2 por√ß√µes de polenta 200g + molho" },
  { text: "üçü", color: "#ff9800", label: "2 por√ß√µes de polenta 200g + molho" },
  { text: "ü•§", color: "#ff7043", label: "1 Coca 2L" },
  { text: "üçî", color: "#f44336", label: "1 Xis bagun√ßa ou catupiry" },
  { text: "ü•ì", color: "#e64a19", label: "1 potinho de bacon ou cheddar" },
  { text: "üç†", color: "#ff6f00", label: "2 batatas r√∫sticas 100g + molho" },
  { text: "üç†", color: "#ff8f00", label: "2 batatas r√∫sticas 100g + molho" },
  { text: "üçü", color: "#ffa000", label: "2 batatas palito 100g + molho" },
  { text: "üçü", color: "#ffc107", label: "2 batatas palito 100g + molho" },
  { text: "üçî", color: "#ff5722", label: "1 batata 200g + molho" }
];

const spinDurationMs = 5200;
const sliceAngle = 360 / prizes.length;
let currentRotation = 0;

// Fundo colorido
wheel.style.background = `conic-gradient(${prizes.map((p,i)=>`${p.color} ${i*sliceAngle}deg ${(i+1)*sliceAngle}deg`).join(",")})`;

function createSlices() {
  const wheelSize = wheel.offsetWidth;
  let radius = wheelSize/2 - 50;
  if (wheelSize < 300) radius = wheelSize/2 - 20;

  prizes.forEach((p,i)=>{
    const div = document.createElement("div");
    div.className = "slice-text";
    div.textContent = p.text;
    const angle = (i*sliceAngle + sliceAngle/2) * Math.PI/180;
    const x = radius * Math.cos(angle);
    const y = radius * Math.sin(angle);
    div.style.transform = `translate(${x}px,${y}px) rotate(${i*sliceAngle + sliceAngle/2 + 90}deg)`;
    wheel.appendChild(div);
  });
}
createSlices();

let isSpinning = false;
let hasSpun = false; // üîÑ resetado

spinBtn.addEventListener("click", ()=>{
  if(isSpinning || hasSpun) return;

  isSpinning = true;
  const spins = 5;
  const randomAngle = Math.random()*360;
  const targetRotation = 360*spins + randomAngle;
  currentRotation += targetRotation;

  wheel.style.transition = `transform ${spinDurationMs/1000}s cubic-bezier(0.33,1,0.68,1)`;
  wheel.style.transform = `rotate(${currentRotation}deg)`;

  setTimeout(()=>{
    const normalizedRotation = currentRotation % 360;
    const winningIndex = Math.floor((360 - normalizedRotation) / sliceAngle) % prizes.length;
    const prize = prizes[winningIndex];

    prizeMessage.innerHTML = `üéâ Voc√™ ganhou: <br>${prize.text} ${prize.label}`;
    prizeMessage.style.display="block";

    spinBtn.disabled = true;
    spinBtn.style.opacity = 0.5;
    isSpinning = false;
    hasSpun = true;
  }, spinDurationMs);
});
</script>
</body>
</html>
